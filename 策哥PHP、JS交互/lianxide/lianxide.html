<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	姓名: <input id="user" type="text" name="user" > <br>
	性别: <input id="sex" type="text" name="sex" ><br>
	年龄: <input id="age" type="text" name="age" ><br>
	手机: <input id="phone" type="text" name="phone"><br>

	<button onclick="submitMsg()">提交</button><br>
	<button onclick="checkMsg()">查看</button><br>
	<button onclick="ok()">输出</button>
</body>
<script src="AJAX.js"></script>
<script type="text/javascript">
	var userinp = document.getElementById("user");
	var sexinp = document.getElementById("sex");
	var ageinp = document.getElementById("age");
	var phoneinp = document.getElementById("phone");

	var myurl = "lianxide.php";

	//type  1post   2get
	function submitMsg() {
		var uurl = myurl+"?type=1";
		var userValue = userinp.value;
		var sexValue = sexinp.value;
		var ageValue = ageinp.value;
		var phoneValue = phoneinp.value;

		var data = {
			user: userValue,
			sex: sexValue,
			age: ageValue,
			phone: phoneValue
		}

		AJAX("POST",uurl,data,true,function(response){
			console.log("成功");
			console.log(response);
		},function(error){
			console.log("失败");
			console.log(error);
		});
	}

	function checkMsg() {
		var uurl = myurl+"?type=2";
		AJAX("GET",uurl,{},false,function(response){
			console.log(response);
			var result = JSON.parse(response);
			console.log(result);
		},function(error){
			console.log("失败");
			console.log(error);
		});
	}

	function nook() {
		console.log("策哥");
	}

	function ok() {
		AJAX("GET","ok.php?aa=nook",{},true,function(res){
			console.log(res);
		},function(err){
			console.log(err);
		});
	}
</script>
</html>







